==Popis komunikace mezi MainMod a moduly MotorControl==

Modul MainMod pošle příslušnému modulu MotorControl pouze požadovanou rychlost a pak sleduje ujetou vzdálenost. V okamžiku, kdy je potřeba zastavit, pošle paket s nulovou požadovanou rychlostí. Tento je však třeba poslat s předstihem - je nutno započítat zrychlení při zpomalování robotu. Pro rychlost je používána jednotka mm/s. Požadovaná rychlost je společná pro oba motory ovládané jedním modulem MotorControl.

_Údaje v závorce značí počet bytů a případné znaménko (u = unsigned, s = signed). Písmeno f na konci proměnné značí přední motor (front), r naopak značí zadní motor (rear)._

=== Nastavení žádané rychlosti ===

MainMod vyšle paket typu P_MOTOR_COMM s nulovou datovou částí.

||P_MOTOR_COMM|||rspeed||

  * P_MOTOR_COMM ... typ paketu příkaz (u1)
  * rspeed ... požadovaná rychlost (s2)

Na paket typu P_MOTOR_COMM modul MotorControl neodpovídá.

=== Vyžádání informací z modulu ===

Informace o stavu motorů pošle modul po přijetí paketu P_MOTOR_INFO (s nulovou datovou částí).

||P_MOTOR_INFO||rspeed||aspeedf||mstatef||mcurrf||mtempf||distf||aspeedr||mstatef||mcurrf||mtempr||distr||

  * P_INFO ... typ paketu informace z modulu (u1)
  * rspeed ... požadovaná rychlost - stejná pro oba motory (s2)
  * aspeedx ... akt. rychlost motoru (s2)
  * mstatex ... stav motoru (u1)
  * mcurrx ... proud motorem (u1)
  * mtempx ... teplota motoru (u1)
  * distx ... ujetá vzdálenost od posledního příkazu (s4)