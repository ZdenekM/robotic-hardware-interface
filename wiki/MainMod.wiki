= Řídicí modul =

Řídicí modul bude zpracovávat povely z PC, komunikovat s podřízenými moduly a zajišťovat některé autonomní, diagnostické a kontrolní funkce.

Popis komunikace tohoto modulu s PC: KomunikacePCMainMod

== Aktuální stav ==

  * navržená a vyrobená DPS
  * zprovozněná komunikace směrem k modulům i směrem k PC, obsluha LCD, tlačítek, snímání stavu joysticku
  * jízda dopředu/vzad (ovládání joystickem), vyzkoušena komunikace s PC

== Plánované funkce ==

  * výstup informací na LCD, ovládání a nastavování parametrů (např. PID konstant) pomocí tlačítek
  * komunikace s PC (příjem povelů, odesílání dat, nastavování parametrů)
  * vysílání povelů do podřízených modulů, sběr a zpracování dat
  * diagnostické funkce
    * zjištění funkčnosti pohonů (krátké popojetí, přečtení ujeté vzdálenosti)
  * řídicí funkce - bezpečnostní
    * zastavení před překážkou (senzory -> pohon)
    * zastavení při vybité baterii (napájení -> pohon)
    * zastavení při výpadku komunikace s PC nebo při výpadku senzorového modulu
  * řídicí funkce - autonomní
    * o autonomních funkcích realizovaných v tomto modulu bude rozhodnuto až podle testování s programem v PC
  * možnost ovládat robota pomocí analogového joysticku - přímo, bez PC
  * funkce "náhodná projížďka" - samostatná jízda s vyhýbáním se překážkám


== Použité součástky ==

  * mikroprocesor atmega64 (nejlevnější s 2x UART)
  * alfanumerický LCD (20x4 znaků)
  * stabilizátor 78L05 SMD
  * MAX232CWE
  * SN75176A - RS485 tranceiver
  * transily P6KE6V8CA - jako ochrana RS485 před ESD

== Možná vylepšení ==

  * opravit chyby na DPS (programovací vodiče, přehozené RX/TX, připojení joysticku na ADC, přidat terminační rezistor k RS485)
  * silnější stabilizátor (se zapnutým podsvětlením LCD odběr přesahuje 100mA)
  * změnit DPS tak, aby nebylo potřeba upravovat joystick