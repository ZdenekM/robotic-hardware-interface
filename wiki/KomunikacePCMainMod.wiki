== Popis komunikace mezi PC a MainMod ==

PC posílá povely k jízdě přímo (požadovaná vzdálenost), nebo povel k otočení (požadovaný úhel otočení). Modul MainMod potom zajišťuje provedení těchto příkazů (kontroluje ujetou vzdálenost atd.).

=== Náměty na vylepšení ===

  * PC by v paketu mohl posílat celé sekvence povelů
  * otočení o libovolný úhel

=== Jízda rovně ===

PC pošle modulu MainMod paket typu PC_MOVE_STRAIGHT, požadovanou vzdálenost v mm a požadovanou rychlost (opět v mm/s).

||PC_MOVE_STRAIGHT||dist||speed||

  * dist ... požadovaná vzdálenost (s2)
  * speed ... žádaná rychlost (s2)

MainMod na tento paket neodpovídá - PC musí zkontrolovat úspěšnost provedení požadované operace podle informací z odometrie.

=== Otočení o zadaný úhel ===

PC pošle paket s hodnotou požadovaného úhlu otočení. Hodnoty jsou pevně dané.

||PC_MOVE_ROUND||angle||

  * angle ... požadovaný úhel otočení (s2)

Přípustné hodnoty pro úhel otočení: 90, 180 (robot se otáčí doprava), -90, -180 (doleva).

MainMod na tento paket neodpovídá - PC musí zkontrolovat úspěšnost provedení požadované operace podle informací ze senzorů.

=== Vyčtení údajů o pohybu a stavu motorů ===

Na paket typu PC_MOVE_INFO odpoví MainMod paketem téhož typu s následujícím obsahem:

||PC_MOVE_INFO||rspeedl||aspeedl||distl||rspeedr||aspeedr||distr||

  * rspeedx ... žádaná rychlost (s2)
  * aspeedx ... aktuální rychlost (s2)
  * distx ... ujetá vzdálenost (s4)

Celkem tedy 16 bytů. Hodnota pro určitou stranu je vždy aritmetickým průměrem údajů z předního a zadního motoru.

Detailnější informace o stavu motorů je možno získat paketem typu PC_MOVE_AINFO.

TODO: doplnit

=== Vyčtení údajů ze senzorů překážek ===

TODO: doplnit